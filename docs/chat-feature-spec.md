# ì‚¬ì£¼ì¸ì—° ì±„íŒ… ê¸°ëŠ¥ ì •ì±… ë° ìš”êµ¬ì‚¬í•­ ì •ì˜ì„œ

> **ì‘ì„±ì¼**: 2026-02-24
> **ì‘ì„±ì**: ì•„ë¦¬ (Product Owner)
> **ìƒíƒœ**: Draft â€” ë…¸ì•„ë‹˜ ê²€í†  ëŒ€ê¸°
> **ëŒ€ìƒ**: MVP (Phase 7)

---

## 1. ë¦¬ì„œì¹˜ ìš”ì•½

### 1.1 Sendbird ê¸°ë³¸í˜• ì±„íŒ… ê¸°ëŠ¥ (ë²¤ì¹˜ë§ˆí¬)

Sendbird UIKitì˜ ê¸°ë³¸ ì œê³µ ê¸°ëŠ¥ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤:

| ì¹´í…Œê³ ë¦¬ | ê¸°ë³¸ ì œê³µ ê¸°ëŠ¥ |
|---------|--------------|
| **ë©”ì‹œì§•** | í…ìŠ¤íŠ¸, ì´ë¯¸ì§€/íŒŒì¼/ì˜¤ë””ì˜¤/ë¹„ë””ì˜¤ ì „ì†¡, êµ¬ì¡°í™” ë©”ì‹œì§€ í…œí”Œë¦¿ |
| **ìƒíƒœ í‘œì‹œ** | íƒ€ì´í•‘ ì¸ë””ì¼€ì´í„°(ê¸°ë³¸ ON), ì½ìŒ í™•ì¸(ê¸°ë³¸ ON), ì „ë‹¬ í™•ì¸ |
| **í”„ë ˆì¦ŒìŠ¤** | ì˜¨ë¼ì¸/ì˜¤í”„ë¼ì¸ ìƒíƒœ í‘œì‹œ |
| **ì•Œë¦¼** | í‘¸ì‹œ ì•Œë¦¼, ë°©í•´ê¸ˆì§€ ëª¨ë“œ ì„¤ì • |
| **UI** | ì±„ë„ ëª©ë¡, ì•ˆ ì½ì€ ë©”ì‹œì§€ ì¹´ìš´íŠ¸ ë°°ì§€, ë¼ì´íŠ¸/ë‹¤í¬ í…Œë§ˆ |
| **ëª¨ë”ë ˆì´ì…˜** | ìœ ì € ì°¨ë‹¨, ë°´/ë®¤íŠ¸, ì‹ ê³  API, ìš•ì„¤ í•„í„°, ë„ë©”ì¸ í•„í„° |
| **ê³ ê¸‰ ê¸°ëŠ¥** | ë©”ì‹œì§€ ê²€ìƒ‰, ë¦¬ì•¡ì…˜(ì´ëª¨ì§€), ë©˜ì…˜, ìŠ¤ë ˆë”©, ê´€ë¦¬ì ë©”ì‹œì§€ |
| **ë¶„ì„** | ë©”ì‹œì§€ í†µê³„, ë°ì´í„° ë‚´ë³´ë‚´ê¸°, ì›¹í›… |

> **ê²°ë¡ **: Sendbird ê¸°ë³¸í˜•ì€ ë§¤ìš° í’ë¶€í•¨. ìš°ë¦¬ MVPì—ì„œëŠ” ì´ ì¤‘ í•µì‹¬ë§Œ ì·¨ì‚¬ì„ íƒ.

### 1.2 í•œêµ­ ë°ì´íŒ…ì•± ì±„íŒ… í˜„í™©

| ì•± | ì±„íŒ… ê°œì‹œ ì¡°ê±´ | ì£¼ìš” íŠ¹ì§• |
|----|--------------|----------|
| **ìœ„í”¼** | ìƒí˜¸ ì¢‹ì•„ìš” (ë§¤ì¹­ ì„±ì‚¬) | í…ìŠ¤íŠ¸+ì‚¬ì§„, ì½ìŒ í™•ì¸, ì°¨ë‹¨/ì‹ ê³  |
| **ê¸€ë¨** | ìƒí˜¸ í˜¸ê° í›„ ì ¬ 30ê°œë¡œ ëŒ€í™”ë°© ì˜¤í”ˆ | ì±„íŒ… ìì²´ê°€ ìœ ë£Œ ê²Œì´íŠ¸ |
| **ì •ì˜¤ì˜ë°ì´íŠ¸** | ë§¤ì¼ ì •ì˜¤ 2ëª… ë§¤ì¹­ â†’ ê´€ì‹¬ í‘œí˜„ í›„ ëŒ€í™” | ë³´ì´ìŠ¤ ë©”ì‹œì§€/ë³´ì´ìŠ¤ì±— ì§€ì› |
| **ì•„ë§Œë‹¤** | ìƒí˜¸ ì¢‹ì•„ìš” | í…ìŠ¤íŠ¸+ì‚¬ì§„, ì°¨ë‹¨/ì‹ ê³  |
| **í‹´ë”** | ìƒí˜¸ ìŠ¤ì™€ì´í”„ | í…ìŠ¤íŠ¸+GIF+ì‚¬ì§„, ì½ìŒ í™•ì¸ ì—†ìŒ |

**í•œêµ­ ì‹œì¥ ê³µí†µ íŒ¨í„´:**
- ìƒí˜¸ ë§¤ì¹­ í›„ ì±„íŒ… ê°œì‹œ (ì¼ë°©ì  ë©”ì‹œì§€ ë¶ˆê°€)
- í…ìŠ¤íŠ¸ + ì‚¬ì§„ ì „ì†¡ì´ ê¸°ë³¸
- ì°¨ë‹¨/ì‹ ê³  í•„ìˆ˜ (ì•±ìŠ¤í† ì–´ ì‹¬ì‚¬ ìš”ê±´)
- ì½ìŒ í™•ì¸ì€ ì•±ë§ˆë‹¤ ë‹¤ë¦„ (ìˆìœ¼ë©´ ì¢‹ì§€ë§Œ í”„ë ˆì…” ì´ìŠˆ)
- ì±„íŒ…ë°© ë§Œë£Œ ì •ì±…ì€ ëŒ€ë¶€ë¶„ ì—†ìŒ (Bumbleë§Œ 24ì‹œê°„ ì œí•œ)

### 1.3 ê¸€ë¡œë²Œ ë°ì´íŒ…ì•± ì±„íŒ… ë§Œë£Œ ì •ì±…

| ì•± | ë§Œë£Œ ì •ì±… |
|----|----------|
| **Bumble** | ë§¤ì¹­ í›„ 24ì‹œê°„ ë‚´ ì²« ë©”ì‹œì§€ í•„ìˆ˜, ë‹µì¥ë„ 24ì‹œê°„. ì–‘ìª½ ë©”ì‹œì§€ êµí™˜ í›„ ì˜êµ¬ |
| **Hinge** | ë§Œë£Œ ì—†ìŒ. 14ì¼ ë¹„í™œì„± ì‹œ ìë™ ìˆ¨ê¹€ (ë³µì› ê°€ëŠ¥) |
| **Tinder** | ë§Œë£Œ ì—†ìŒ |
| **í•œêµ­ ì•±** | ëŒ€ë¶€ë¶„ ë§Œë£Œ ì—†ìŒ |

---

## 2. ì •ì±… ê²°ì • (Policy Decisions)

### 2.1 ì±„íŒ…ë°© ê°œì‹œ ì¡°ê±´

**ê²°ì •: ìƒí˜¸ ë§¤ì¹­ ì„±ì‚¬ ì‹œ ìë™ ìƒì„±**

- ê·¼ê±°: í•œêµ­ ë°ì´íŒ…ì•± í‘œì¤€. ì¼ë°©ì  ë©”ì‹œì§€ëŠ” ë¶ˆì¾Œê° ìœ ë°œ
- êµ¬í˜„: `likes` í…Œì´ë¸”ì—ì„œ ì–‘ë°©í–¥ ì¢‹ì•„ìš” ê°ì§€ â†’ `matches` ìƒì„± â†’ `chat_rooms` ìë™ ìƒì„±
- ì´ë¯¸ Match ì—”í‹°í‹°ì— `user1Id`, `user2Id` êµ¬ì¡°ê°€ ìˆìœ¼ë¯€ë¡œ ì´ë¥¼ í™œìš©

### 2.2 ì±„íŒ…ë°© ë§Œë£Œ ì •ì±…

**ê²°ì •: MVPì—ì„œëŠ” ë§Œë£Œ ì—†ìŒ**

- ê·¼ê±°: í•œêµ­ ì•± ëŒ€ë¶€ë¶„ ë§Œë£Œ ì—†ìŒ. Bumbleì‹ 24ì‹œê°„ ì œí•œì€ í•œêµ­ ìœ ì €ì—ê²Œ ë¶€ìì—°ìŠ¤ëŸ¬ì›€
- ëŒ€ì•ˆ: í–¥í›„ "7ì¼ ë¬´ì‘ë‹µ ì‹œ ì•Œë¦¼" ë˜ëŠ” "ë¹„í™œì„± ì±„íŒ… ìˆ¨ê¹€" ê³ ë ¤ ê°€ëŠ¥
- ì–¸ë§¤ì¹­ ì‹œ ì±„íŒ…ë°© ë¹„í™œì„±í™” (ì‚­ì œ ì•„ë‹˜, soft delete)

### 2.3 ì½ìŒ í™•ì¸ (Read Receipts)

**ê²°ì •: MVPì—ì„œ í¬í•¨ (ë‹¨, ì‹¬í”Œí•˜ê²Œ)**

- ê·¼ê±°: ì¹´ì¹´ì˜¤í†¡ ë¬¸í™”ê¶Œ. í•œêµ­ ìœ ì €ëŠ” ì½ìŒ í™•ì¸ì— ìµìˆ™í•¨
- êµ¬í˜„: ë©”ì‹œì§€ë³„ `read_at` íƒ€ì„ìŠ¤íƒ¬í”„. UIì—ì„œëŠ” ë§ˆì§€ë§‰ ì½ì€ ë©”ì‹œì§€ê¹Œì§€ ì²´í¬ í‘œì‹œ
- í‘œì‹œ ë°©ì‹: ë‹¨ì¼ ì²´í¬(ì „ì†¡) â†’ ì´ì¤‘ ì²´í¬(ì½ìŒ). ì¹´ì¹´ì˜¤í†¡ì˜ "1" í‘œì‹œê°€ ì•„ë‹Œ, ì²´í¬ë§ˆí¬ ë°©ì‹

### 2.4 íƒ€ì´í•‘ ì¸ë””ì¼€ì´í„°

**ê²°ì •: MVPì—ì„œ ì œì™¸**

- ê·¼ê±°: Supabase Realtimeì˜ Presence ê¸°ëŠ¥ìœ¼ë¡œ êµ¬í˜„ ê°€ëŠ¥í•˜ë‚˜, MVP ë³µì¡ë„ ì¦ê°€
- ì˜í–¥: ì‚¬ìš©ì ê²½í—˜ì— í¬ë¦¬í‹°ì»¬í•˜ì§€ ì•ŠìŒ. ëŒ€ë¶€ë¶„ì˜ í•œêµ­ ë°ì´íŒ…ì•±ì—ì„œ ë¯¸ì§€ì›
- í›„ìˆœìœ„: Post-MVPì—ì„œ Supabase Presence channelë¡œ ê°„ë‹¨íˆ ì¶”ê°€ ê°€ëŠ¥

### 2.5 ì˜¨ë¼ì¸/ì˜¤í”„ë¼ì¸ ìƒíƒœ

**ê²°ì •: MVPì—ì„œ ì œì™¸**

- ê·¼ê±°: í”„ë¼ì´ë²„ì‹œ ì´ìŠˆ ("ì™œ ì½ê³  ë‹µ ì•ˆ í•´?"). í•œêµ­ ë°ì´íŒ…ì•± ë‹¤ìˆ˜ ë¯¸ì§€ì›
- í›„ìˆœìœ„: Post-MVPì—ì„œ ì„ íƒì  í‘œì‹œ ì˜µì…˜ìœ¼ë¡œ ì œê³µ ê°€ëŠ¥

### 2.6 ë©”ì‹œì§€ íƒ€ì…

**ê²°ì •: í…ìŠ¤íŠ¸ + ì´ë¯¸ì§€ + ì‹œìŠ¤í…œ ë©”ì‹œì§€ (3ì¢…)**

| íƒ€ì… | MVP | ì„¤ëª… |
|------|-----|------|
| í…ìŠ¤íŠ¸ | O | ìµœëŒ€ 1,000ì (AppLimits.maxMessageLength) |
| ì´ë¯¸ì§€ | O | ìµœëŒ€ 10MB (AppLimits.maxChatImageSizeMb), Supabase Storage chat-images ë²„í‚· |
| ì‹œìŠ¤í…œ ë©”ì‹œì§€ | O | ë§¤ì¹­ ì„±ì‚¬ ì•Œë¦¼, ì•„ì´ìŠ¤ë¸Œë ˆì´ì»¤, ì°¨ë‹¨ ì•Œë¦¼ ë“± |
| ìŒì„± ë©”ì‹œì§€ | X | Post-MVP |
| GIF/ìŠ¤í‹°ì»¤ | X | Post-MVP |
| ìœ„ì¹˜ ê³µìœ  | X | Post-MVP |

### 2.7 ë©”ì‹œì§€ ì‚­ì œ/ìˆ˜ì •

**ê²°ì •: ë³¸ì¸ ë©”ì‹œì§€ ì‚­ì œë§Œ ê°€ëŠ¥. ìˆ˜ì • ë¶ˆê°€**

- ê·¼ê±°: ë°ì´íŒ…ì•±ì—ì„œ ë©”ì‹œì§€ ìˆ˜ì •ì€ ì‹ ë¢°ë„ ì´ìŠˆ. ì‚­ì œëŠ” í•„ìˆ˜
- êµ¬í˜„: soft delete (`deleted_at` í•„ë“œ). ìƒëŒ€ë°©ì—ê²Œ "ì‚­ì œëœ ë©”ì‹œì§€" í‘œì‹œ
- ì œí•œ: ì „ì†¡ í›„ ì‹œê°„ ì œí•œ ì—†ì´ ì‚­ì œ ê°€ëŠ¥

### 2.8 ì°¨ë‹¨/ì‹ ê³ 

**ê²°ì •: í•„ìˆ˜ í¬í•¨ (ì•±ìŠ¤í† ì–´ ì‹¬ì‚¬ ìš”ê±´)**

- **ì°¨ë‹¨**: ì±„íŒ…ë°© ë‚´ì—ì„œ ì°¨ë‹¨ â†’ ì±„íŒ…ë°© ë¹„í™œì„±í™” + ë§¤ì¹­ í•´ì œ + ìƒëŒ€ë°© í”„ë¡œí•„ì—ì„œ ì‚¬ë¼ì§
- **ì‹ ê³ **: ì±„íŒ…ë°© ë‚´ì—ì„œ ì‹ ê³  â†’ ì‹ ê³  ì‚¬ìœ  ì„ íƒ (ë¶€ì ì ˆ ë©”ì‹œì§€, ìŠ¤íŒ¸, ì‚¬ì¹­, ì„±í¬ë¡±, ê¸°íƒ€)
- êµ¬í˜„: ì´ë¯¸ `blocks`, `reports` í…Œì´ë¸” ì •ì˜ë¨ (SupabaseTables)

### 2.9 í‘¸ì‹œ ì•Œë¦¼

**ê²°ì •: MVPì—ì„œ í¬í•¨**

- ê·¼ê±°: ë§¤ì¹­ ì•±ì˜ ë¦¬í…ì…˜ í•µì‹¬. ìƒˆ ë©”ì‹œì§€ ì•Œë¦¼ ì—†ìœ¼ë©´ ì•± ì¬ë°©ë¬¸ ë™ê¸° ì—†ìŒ
- êµ¬í˜„: Supabase Edge Function + FCM/APNs
- ì•Œë¦¼ ì¢…ë¥˜:
  - ìƒˆ ë©”ì‹œì§€ ìˆ˜ì‹ 
  - ìƒˆ ë§¤ì¹­ ì„±ì‚¬ (ì±„íŒ…ë°© ìƒì„±)
- ë¬´ìŒ/ë°©í•´ê¸ˆì§€: Post-MVP

### 2.10 ì•„ì´ìŠ¤ë¸Œë ˆì´ì»¤ (ì‚¬ì£¼ ê¸°ë°˜ ëŒ€í™” ì£¼ì œ)

**ê²°ì •: MVPì—ì„œ ì‹œìŠ¤í…œ ë©”ì‹œì§€ë¡œ ì œê³µ (ìœ ë£Œ ê¸°ëŠ¥)**

- ê·¼ê±°: ì‚¬ì£¼ì¸ì—°ì˜ í•µì‹¬ ì°¨ë³„ì . "ìš´ëª…ì  ë§Œë‚¨" ë‚´ëŸ¬í‹°ë¸Œ ê°•í™”
- êµ¬í˜„: ë§¤ì¹­ ì„±ì‚¬ ì‹œ ì‚¬ì£¼ ê¶í•© ê¸°ë°˜ ëŒ€í™” ì£¼ì œ 1ê°œ ë¬´ë£Œ ì œê³µ (ì‹œìŠ¤í…œ ë©”ì‹œì§€)
- ì¶”ê°€ ì•„ì´ìŠ¤ë¸Œë ˆì´ì»¤: í¬ì¸íŠ¸ 100ì  ì†Œëª¨ (AppLimits.icebreakerCost)
- ì˜ˆì‹œ:
  - "ë‘ ë¶„ ëª¨ë‘ ëª©(æœ¨) ê¸°ìš´ì´ ê°•í•´ìš”! ìƒˆë¡œìš´ ì‹œì‘ê³¼ ì„±ì¥ì„ ì¢‹ì•„í•˜ì‹œëŠ” íƒ€ì…. ìµœê·¼ì— ìƒˆë¡œ ë„ì „í•œ ê²ƒì´ ìˆë‚˜ìš”?"
  - "í™”(ç«)ì™€ ëª©(æœ¨)ì˜ ë§Œë‚¨! ì„œë¡œì—ê²Œ ì—ë„ˆì§€ë¥¼ ì£¼ëŠ” ê´€ê³„ì˜ˆìš”. ì–´ë–¤ ìˆœê°„ì— ê°€ì¥ ì—´ì •ì´ ëŠê»´ì§€ì„¸ìš”?"

### 2.11 ì±„íŒ… ëª©ë¡ ì •ë ¬

**ê²°ì •: ë§ˆì§€ë§‰ ë©”ì‹œì§€ ì‹œê°„ ê¸°ì¤€ ë‚´ë¦¼ì°¨ìˆœ**

- ê°€ì¥ ìµœê·¼ ëŒ€í™”ê°€ ìƒë‹¨
- ì•ˆ ì½ì€ ë©”ì‹œì§€ ì¹´ìš´íŠ¸ ë°°ì§€ í‘œì‹œ
- ë¹ˆ ì±„íŒ…ë°©(ë©”ì‹œì§€ ì—†ìŒ)ì€ ë§¤ì¹­ ì‹œê°„ ê¸°ì¤€ ì •ë ¬

### 2.12 ì–¸ë§¤ì¹­ (Unmatch)

**ê²°ì •: ì±„íŒ…ë°© ë‚´ì—ì„œ ì–¸ë§¤ì¹­ ê°€ëŠ¥**

- ì–¸ë§¤ì¹­ ì‹œ: ì±„íŒ…ë°© ë¹„í™œì„±í™”, ë©”ì‹œì§€ íˆìŠ¤í† ë¦¬ ë³´ì¡´(ë³¸ì¸ë§Œ ì—´ëŒ ë¶ˆê°€), ìƒëŒ€ë°©ì—ê²Œ "ìƒëŒ€ë°©ì´ ëŒ€í™”ë¥¼ ì¢…ë£Œí–ˆìŠµë‹ˆë‹¤" í‘œì‹œ
- ê¸°ì¡´ Match ì—”í‹°í‹°ì˜ `unmatchedAt` í•„ë“œ í™œìš©

---

## 3. ê¸°ëŠ¥ ë¶„ë¥˜

### 3.1 MUST HAVE (MVP)

| # | ê¸°ëŠ¥ | ì„¤ëª… | ìš°ì„ ìˆœìœ„ |
|---|------|------|---------|
| M1 | **ì±„íŒ…ë°© ìë™ ìƒì„±** | ë§¤ì¹­ ì„±ì‚¬ ì‹œ 1:1 ì±„íŒ…ë°© ìë™ ìƒì„± | P0 |
| M2 | **í…ìŠ¤íŠ¸ ë©”ì‹œì§€** | ìµœëŒ€ 1,000ì í…ìŠ¤íŠ¸ ì „ì†¡/ìˆ˜ì‹  | P0 |
| M3 | **ì‹¤ì‹œê°„ ë©”ì‹œì§€ ìˆ˜ì‹ ** | Supabase Realtimeìœ¼ë¡œ ì¦‰ì‹œ ìˆ˜ì‹  | P0 |
| M4 | **ì±„íŒ… ëª©ë¡** | í™œì„± ì±„íŒ…ë°© ëª©ë¡, ë§ˆì§€ë§‰ ë©”ì‹œì§€ í”„ë¦¬ë·°, ì‹œê°„ í‘œì‹œ | P0 |
| M5 | **ì•ˆ ì½ì€ ë©”ì‹œì§€ ë°°ì§€** | ì±„íŒ… ëª©ë¡ ë° íƒ­ ë°”ì— ì•ˆ ì½ì€ ìˆ˜ í‘œì‹œ | P0 |
| M6 | **ì´ë¯¸ì§€ ì „ì†¡** | ê°¤ëŸ¬ë¦¬/ì¹´ë©”ë¼ì—ì„œ ì´ë¯¸ì§€ ì „ì†¡ (ìµœëŒ€ 10MB) | P0 |
| M7 | **ì½ìŒ í™•ì¸** | ì²´í¬ë§ˆí¬ë¡œ ì „ì†¡/ì½ìŒ ìƒíƒœ í‘œì‹œ | P1 |
| M8 | **ë©”ì‹œì§€ ì‚­ì œ** | ë³¸ì¸ ë©”ì‹œì§€ soft delete, "ì‚­ì œëœ ë©”ì‹œì§€" í‘œì‹œ | P1 |
| M9 | **ì°¨ë‹¨** | ìƒëŒ€ë°© ì°¨ë‹¨ â†’ ì±„íŒ… ë¹„í™œì„±í™” + ë§¤ì¹­ í•´ì œ | P0 |
| M10 | **ì‹ ê³ ** | ì‚¬ìœ  ì„ íƒ í›„ ì‹ ê³  (ì•±ìŠ¤í† ì–´ ì‹¬ì‚¬ í•„ìˆ˜) | P0 |
| M11 | **ì–¸ë§¤ì¹­** | ëŒ€í™” ì¢…ë£Œ â†’ ì±„íŒ…ë°© ë¹„í™œì„±í™” | P1 |
| M12 | **í‘¸ì‹œ ì•Œë¦¼** | ìƒˆ ë©”ì‹œì§€ / ìƒˆ ë§¤ì¹­ ì•Œë¦¼ | P0 |
| M13 | **ì‹œìŠ¤í…œ ë©”ì‹œì§€** | ë§¤ì¹­ ì¶•í•˜, ì•„ì´ìŠ¤ë¸Œë ˆì´ì»¤ ë“± ìë™ ë©”ì‹œì§€ | P1 |
| M14 | **ì•„ì´ìŠ¤ë¸Œë ˆì´ì»¤ (1íšŒ ë¬´ë£Œ)** | ë§¤ì¹­ ì‹œ ì‚¬ì£¼ ê¸°ë°˜ ëŒ€í™” ì£¼ì œ 1ê°œ ìë™ ì œê³µ | P1 |
| M15 | **ë©”ì‹œì§€ í˜ì´ì§€ë„¤ì´ì…˜** | 50ê°œì”© ë¡œë“œ, ìŠ¤í¬ë¡¤ ì‹œ ì´ì „ ë©”ì‹œì§€ ë¡œë“œ | P0 |

### 3.2 NICE TO HAVE (Post-MVP)

| # | ê¸°ëŠ¥ | ì„¤ëª… | ë¹„ê³  |
|---|------|------|------|
| N1 | **ì¶”ê°€ ì•„ì´ìŠ¤ë¸Œë ˆì´ì»¤ (ìœ ë£Œ)** | í¬ì¸íŠ¸ 100ì  ì†Œëª¨, AI ìƒì„± ëŒ€í™” ì£¼ì œ | ê³¼ê¸ˆ í¬ì¸íŠ¸ |
| N2 | **íƒ€ì´í•‘ ì¸ë””ì¼€ì´í„°** | ìƒëŒ€ë°© ì…ë ¥ ì¤‘ í‘œì‹œ | Supabase Presence |
| N3 | **ì˜¨ë¼ì¸ ìƒíƒœ** | ì ‘ì† ì—¬ë¶€ í‘œì‹œ (ì„ íƒì ) | í”„ë¼ì´ë²„ì‹œ ì˜µì…˜ |
| N4 | **ìŒì„± ë©”ì‹œì§€** | ë…¹ìŒ í›„ ì „ì†¡ | í•œêµ­ MZì„¸ëŒ€ ì„ í˜¸ |
| N5 | **GIF/ìŠ¤í‹°ì»¤** | ê°ì • í‘œí˜„ í™•ì¥ | GIPHY ì—°ë™ |
| N6 | **ë©”ì‹œì§€ ê²€ìƒ‰** | ì±„íŒ…ë°© ë‚´ í‚¤ì›Œë“œ ê²€ìƒ‰ | |
| N7 | **ì´ëª¨ì§€ ë¦¬ì•¡ì…˜** | ë©”ì‹œì§€ì— ì´ëª¨ì§€ ë°˜ì‘ | |
| N8 | **ëŒ€í™” ë‚´ë³´ë‚´ê¸°** | ì±„íŒ… íˆìŠ¤í† ë¦¬ ì €ì¥ | |
| N9 | **ë¹„í™œì„± ì±„íŒ… ìˆ¨ê¹€** | 14ì¼ ë¬´ì‘ë‹µ ì‹œ ìë™ ìˆ¨ê¹€ | Hinge ì°¸ê³  |
| N10 | **ë°©í•´ê¸ˆì§€ ëª¨ë“œ** | ì‹œê°„ëŒ€ë³„ ì•Œë¦¼ ì°¨ë‹¨ | |
| N11 | **ë©”ì‹œì§€ ë²ˆì—­** | ë‹¤êµ­ì–´ ìë™ ë²ˆì—­ | ê¸€ë¡œë²Œ í™•ì¥ ì‹œ |
| N12 | **ì‚¬ì£¼ ê¶í•© ë°°ì§€** | ì±„íŒ…ë°© í—¤ë”ì— ê¶í•© ì ìˆ˜ í‘œì‹œ | ë””ìì¸ ì°¨ë³„í™” |
| N13 | **ë°ì¼ë¦¬ ìš´ì„¸ ì•Œë¦¼** | ë§¤ì¼ ì‚¬ì£¼ ê¸°ë°˜ ê´€ê³„ ìš´ì„¸ in ì±„íŒ… | ë¦¬í…ì…˜ ê°•í™” |

---

## 4. ìœ ì € ìŠ¤í† ë¦¬

### 4.1 ì±„íŒ…ë°© ìƒì„± & ì§„ì…

```
AS A ë§¤ì¹­ëœ ì‚¬ìš©ì
I WANT TO ë§¤ì¹­ ì„±ì‚¬ ì¦‰ì‹œ ì±„íŒ…ë°©ì´ ì—´ë¦¬ëŠ” ê²ƒì„
SO THAT ë°”ë¡œ ëŒ€í™”ë¥¼ ì‹œì‘í•  ìˆ˜ ìˆë‹¤

ìˆ˜ë½ ê¸°ì¤€:
- ì¢‹ì•„ìš”ê°€ ìƒí˜¸ ìˆ˜ë½ë˜ë©´ chat_rooms ë ˆì½”ë“œê°€ ìë™ ìƒì„±ëœë‹¤
- ë§¤ì¹­ ì¶•í•˜ ì‹œìŠ¤í…œ ë©”ì‹œì§€ê°€ ìë™ ì „ì†¡ëœë‹¤
- ì‚¬ì£¼ ê¸°ë°˜ ì•„ì´ìŠ¤ë¸Œë ˆì´ì»¤ 1ê°œê°€ ì‹œìŠ¤í…œ ë©”ì‹œì§€ë¡œ ì „ì†¡ëœë‹¤
- ì–‘ìª½ ì‚¬ìš©ìì—ê²Œ ë§¤ì¹­ ì„±ì‚¬ í‘¸ì‹œ ì•Œë¦¼ì´ ì „ì†¡ëœë‹¤
- ì±„íŒ… íƒ­ì—ì„œ ìƒˆ ì±„íŒ…ë°©ì´ ìƒë‹¨ì— í‘œì‹œëœë‹¤
```

### 4.2 ë©”ì‹œì§€ ì „ì†¡

```
AS A ì‚¬ìš©ì
I WANT TO í…ìŠ¤íŠ¸ì™€ ì´ë¯¸ì§€ë¥¼ ì „ì†¡í•˜ëŠ” ê²ƒì„
SO THAT ìƒëŒ€ë°©ê³¼ ëŒ€í™”í•  ìˆ˜ ìˆë‹¤

ìˆ˜ë½ ê¸°ì¤€:
- í…ìŠ¤íŠ¸ ì…ë ¥ í›„ ì „ì†¡ ë²„íŠ¼ìœ¼ë¡œ ë©”ì‹œì§€ë¥¼ ë³´ë‚¼ ìˆ˜ ìˆë‹¤
- ìµœëŒ€ 1,000ìê¹Œì§€ ì…ë ¥ ê°€ëŠ¥í•˜ë‹¤
- ê°¤ëŸ¬ë¦¬ ë˜ëŠ” ì¹´ë©”ë¼ì—ì„œ ì´ë¯¸ì§€ë¥¼ ì„ íƒí•˜ì—¬ ì „ì†¡í•  ìˆ˜ ìˆë‹¤
- ì´ë¯¸ì§€ëŠ” ìµœëŒ€ 10MBê¹Œì§€ ì§€ì›í•œë‹¤
- ì „ì†¡ ì¤‘ ë¡œë”© ìƒíƒœê°€ í‘œì‹œëœë‹¤
- ì „ì†¡ ì‹¤íŒ¨ ì‹œ ì¬ì „ì†¡ ì˜µì…˜ì´ í‘œì‹œëœë‹¤
```

### 4.3 ì‹¤ì‹œê°„ ë©”ì‹œì§€ ìˆ˜ì‹ 

```
AS A ì‚¬ìš©ì
I WANT TO ìƒëŒ€ë°©ì˜ ë©”ì‹œì§€ë¥¼ ì‹¤ì‹œê°„ìœ¼ë¡œ ë°›ëŠ” ê²ƒì„
SO THAT ìì—°ìŠ¤ëŸ¬ìš´ ëŒ€í™”ê°€ ê°€ëŠ¥í•˜ë‹¤

ìˆ˜ë½ ê¸°ì¤€:
- ì±„íŒ…ë°©ì— ìˆì„ ë•Œ ìƒˆ ë©”ì‹œì§€ê°€ ì¦‰ì‹œ í™”ë©´ì— ë‚˜íƒ€ë‚œë‹¤
- ì•±ì´ í¬ê·¸ë¼ìš´ë“œì´ì§€ë§Œ ë‹¤ë¥¸ í™”ë©´ì— ìˆì„ ë•Œ ì¸ì•± ì•Œë¦¼ì´ í‘œì‹œëœë‹¤
- ì•±ì´ ë°±ê·¸ë¼ìš´ë“œì¼ ë•Œ í‘¸ì‹œ ì•Œë¦¼ì´ ì „ì†¡ëœë‹¤
- ìƒˆ ë©”ì‹œì§€ ìˆ˜ì‹  ì‹œ ì±„íŒ… ëª©ë¡ì´ ìë™ ê°±ì‹ ëœë‹¤
```

### 4.4 ì½ìŒ í™•ì¸

```
AS A ë©”ì‹œì§€ ë°œì‹ ì
I WANT TO ìƒëŒ€ë°©ì´ ë‚´ ë©”ì‹œì§€ë¥¼ ì½ì—ˆëŠ”ì§€ ì•Œê³  ì‹¶ì€ ê²ƒì„
SO THAT ëŒ€í™” ìƒíƒœë¥¼ íŒŒì•…í•  ìˆ˜ ìˆë‹¤

ìˆ˜ë½ ê¸°ì¤€:
- ì „ì†¡ ì™„ë£Œ: ë‹¨ì¼ ì²´í¬ë§ˆí¬(âœ“) í‘œì‹œ
- ì½ìŒ ì™„ë£Œ: ì´ì¤‘ ì²´í¬ë§ˆí¬(âœ“âœ“) í‘œì‹œ
- ì½ìŒ ìƒíƒœëŠ” ì‹¤ì‹œê°„ìœ¼ë¡œ ì—…ë°ì´íŠ¸ëœë‹¤
```

### 4.5 ì±„íŒ… ëª©ë¡

```
AS A ì‚¬ìš©ì
I WANT TO ëª¨ë“  í™œì„± ì±„íŒ…ë°©ì„ í•œëˆˆì— ë³´ëŠ” ê²ƒì„
SO THAT ëŒ€í™”í•  ìƒëŒ€ë¥¼ ì‰½ê²Œ ì„ íƒí•  ìˆ˜ ìˆë‹¤

ìˆ˜ë½ ê¸°ì¤€:
- ë§ˆì§€ë§‰ ë©”ì‹œì§€ ì‹œê°„ ê¸°ì¤€ ë‚´ë¦¼ì°¨ìˆœ ì •ë ¬
- ê° ì±„íŒ…ë°©ì— í‘œì‹œ: ìƒëŒ€ë°© í”„ë¡œí•„ ì‚¬ì§„, ì´ë¦„, ë§ˆì§€ë§‰ ë©”ì‹œì§€ í”„ë¦¬ë·°, ì‹œê°„
- ì•ˆ ì½ì€ ë©”ì‹œì§€ê°€ ìˆìœ¼ë©´ ì¹´ìš´íŠ¸ ë°°ì§€ í‘œì‹œ
- í•˜ë‹¨ íƒ­ ë°”ì˜ ì±„íŒ… ì•„ì´ì½˜ì—ë„ ì´ ì•ˆ ì½ì€ ìˆ˜ ë°°ì§€ í‘œì‹œ
- ë‹¹ê²¨ì„œ ìƒˆë¡œê³ ì¹¨ ì§€ì›
```

### 4.6 ë©”ì‹œì§€ ì‚­ì œ

```
AS A ì‚¬ìš©ì
I WANT TO ë³´ë‚¸ ë©”ì‹œì§€ë¥¼ ì‚­ì œí•˜ëŠ” ê²ƒì„
SO THAT ì˜ëª» ë³´ë‚¸ ë©”ì‹œì§€ë¥¼ ì²˜ë¦¬í•  ìˆ˜ ìˆë‹¤

ìˆ˜ë½ ê¸°ì¤€:
- ë³¸ì¸ì´ ë³´ë‚¸ ë©”ì‹œì§€ë§Œ ì‚­ì œ ê°€ëŠ¥
- ë©”ì‹œì§€ ê¸¸ê²Œ ëˆ„ë¥´ê¸° â†’ "ì‚­ì œ" ì˜µì…˜
- ì‚­ì œ í™•ì¸ ë‹¤ì´ì–¼ë¡œê·¸ í‘œì‹œ
- ì‚­ì œ í›„ ì–‘ìª½ ëª¨ë‘ "ì‚­ì œëœ ë©”ì‹œì§€ì…ë‹ˆë‹¤" í‘œì‹œ
- ì´ë¯¸ì§€ ë©”ì‹œì§€ë„ ì‚­ì œ ê°€ëŠ¥
```

### 4.7 ì°¨ë‹¨

```
AS A ì‚¬ìš©ì
I WANT TO ë¶ˆì¾Œí•œ ìƒëŒ€ë¥¼ ì°¨ë‹¨í•˜ëŠ” ê²ƒì„
SO THAT ë” ì´ìƒ ì—°ë½ì„ ë°›ì§€ ì•ŠëŠ”ë‹¤

ìˆ˜ë½ ê¸°ì¤€:
- ì±„íŒ…ë°© ë©”ë‰´(â‹®) â†’ "ì°¨ë‹¨í•˜ê¸°"
- ì°¨ë‹¨ í™•ì¸ ë‹¤ì´ì–¼ë¡œê·¸ ("ì°¨ë‹¨í•˜ë©´ ë§¤ì¹­ì´ í•´ì œë˜ê³  ìƒëŒ€ë°©ì˜ í”„ë¡œí•„ì´ ë” ì´ìƒ í‘œì‹œë˜ì§€ ì•ŠìŠµë‹ˆë‹¤")
- ì°¨ë‹¨ ì‹œ: ì±„íŒ…ë°© ë¹„í™œì„±í™”, ë§¤ì¹­ í•´ì œ, ìƒëŒ€ í”„ë¡œí•„ ìˆ¨ê¹€
- ì°¨ë‹¨ëœ ì‚¬ìš©ìëŠ” ë‚˜ë¥¼ ë‹¤ì‹œ ì°¾ì„ ìˆ˜ ì—†ìŒ
- ì°¨ë‹¨ í•´ì œ: ì„¤ì • â†’ ì°¨ë‹¨ ëª©ë¡ì—ì„œ ê°€ëŠ¥
```

### 4.8 ì‹ ê³ 

```
AS A ì‚¬ìš©ì
I WANT TO ë¶€ì ì ˆí•œ ì‚¬ìš©ìë¥¼ ì‹ ê³ í•˜ëŠ” ê²ƒì„
SO THAT ì•ˆì „í•œ ì„œë¹„ìŠ¤ í™˜ê²½ì´ ìœ ì§€ëœë‹¤

ìˆ˜ë½ ê¸°ì¤€:
- ì±„íŒ…ë°© ë©”ë‰´(â‹®) â†’ "ì‹ ê³ í•˜ê¸°"
- ì‹ ê³  ì‚¬ìœ  ì„ íƒ:
  - ë¶€ì ì ˆí•œ ë©”ì‹œì§€/ì‚¬ì§„
  - ìŠ¤íŒ¸/ê´‘ê³ 
  - ì‚¬ì¹­/í—ˆìœ„ í”„ë¡œí•„
  - ì„±í¬ë¡±/ì„±ì  ë©”ì‹œì§€
  - ê¸°íƒ€ (ììœ  ì…ë ¥)
- ì‹ ê³  ì™„ë£Œ í›„ ìë™ ì°¨ë‹¨ ì˜µì…˜ ì œê³µ
- ì‹ ê³  ì ‘ìˆ˜ í™•ì¸ ë©”ì‹œì§€ í‘œì‹œ
```

### 4.9 ì–¸ë§¤ì¹­

```
AS A ì‚¬ìš©ì
I WANT TO ê´€ì‹¬ ì—†ëŠ” ìƒëŒ€ì™€ì˜ ëŒ€í™”ë¥¼ ì¢…ë£Œí•˜ëŠ” ê²ƒì„
SO THAT ì±„íŒ… ëª©ë¡ì„ ì •ë¦¬í•  ìˆ˜ ìˆë‹¤

ìˆ˜ë½ ê¸°ì¤€:
- ì±„íŒ…ë°© ë©”ë‰´(â‹®) â†’ "ëŒ€í™” ì¢…ë£Œí•˜ê¸°"
- í™•ì¸ ë‹¤ì´ì–¼ë¡œê·¸ ("ëŒ€í™”ë¥¼ ì¢…ë£Œí•˜ë©´ ë§¤ì¹­ì´ í•´ì œë©ë‹ˆë‹¤. ë˜ëŒë¦´ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.")
- ì¢…ë£Œ ì‹œ: ì±„íŒ…ë°© ë¹„í™œì„±í™”, ë§¤ì¹­ì˜ unmatchedAt ê¸°ë¡
- ìƒëŒ€ë°©ì—ê²Œ "ìƒëŒ€ë°©ì´ ëŒ€í™”ë¥¼ ì¢…ë£Œí–ˆìŠµë‹ˆë‹¤" ì‹œìŠ¤í…œ ë©”ì‹œì§€
- ì±„íŒ… ëª©ë¡ì—ì„œ í•´ë‹¹ ë°© ì‚¬ë¼ì§
```

### 4.10 ì•„ì´ìŠ¤ë¸Œë ˆì´ì»¤

```
AS A ë§¤ì¹­ëœ ì‚¬ìš©ì
I WANT TO ì‚¬ì£¼ ê¸°ë°˜ ëŒ€í™” ì£¼ì œë¥¼ ë°›ëŠ” ê²ƒì„
SO THAT ì–´ìƒ‰í•œ ì²« ëŒ€í™”ë¥¼ ìì—°ìŠ¤ëŸ½ê²Œ ì‹œì‘í•  ìˆ˜ ìˆë‹¤

ìˆ˜ë½ ê¸°ì¤€:
- ë§¤ì¹­ ì„±ì‚¬ ì‹œ ì‚¬ì£¼ ê¶í•© ê¸°ë°˜ ì•„ì´ìŠ¤ë¸Œë ˆì´ì»¤ 1ê°œ ìë™ ì œê³µ
- ì‹œìŠ¤í…œ ë©”ì‹œì§€ í˜•íƒœë¡œ ì±„íŒ…ë°©ì— í‘œì‹œ
- ì•„ì´ìŠ¤ë¸Œë ˆì´ì»¤ ì˜ˆì‹œ:
  - ì˜¤í–‰ ìƒìƒ ê´€ê³„ ê¸°ë°˜ ëŒ€í™” ì£¼ì œ
  - ê³µí†µ ì„±í–¥ ê¸°ë°˜ ì§ˆë¬¸
  - ë³´ì™„ ê´€ê³„ ê¸°ë°˜ í˜¸ê¸°ì‹¬ ìœ ë°œ ì§ˆë¬¸
- [Post-MVP] ì¶”ê°€ ì•„ì´ìŠ¤ë¸Œë ˆì´ì»¤: í¬ì¸íŠ¸ 100ì  ì†Œëª¨
```

### 4.11 í‘¸ì‹œ ì•Œë¦¼

```
AS A ì‚¬ìš©ì
I WANT TO ì•±ì„ ì‚¬ìš©í•˜ì§€ ì•Šì„ ë•Œë„ ìƒˆ ë©”ì‹œì§€ ì•Œë¦¼ì„ ë°›ëŠ” ê²ƒì„
SO THAT ì¤‘ìš”í•œ ëŒ€í™”ë¥¼ ë†“ì¹˜ì§€ ì•ŠëŠ”ë‹¤

ìˆ˜ë½ ê¸°ì¤€:
- ìƒˆ ë©”ì‹œì§€ ìˆ˜ì‹  ì‹œ í‘¸ì‹œ ì•Œë¦¼ ì „ì†¡
- ì•Œë¦¼ ë‚´ìš©: "[ìƒëŒ€ë°© ì´ë¦„] ìƒˆ ë©”ì‹œì§€ê°€ ë„ì°©í–ˆì–´ìš”"
- ì•Œë¦¼ íƒ­ ì‹œ í•´ë‹¹ ì±„íŒ…ë°©ìœ¼ë¡œ ì´ë™
- ìƒˆ ë§¤ì¹­ ì„±ì‚¬ ì‹œ "ìƒˆë¡œìš´ ì¸ì—°ì´ ë„ì°©í–ˆì–´ìš”! ğŸ’œ" ì•Œë¦¼
- í˜„ì¬ ì±„íŒ…ë°©ì— ìˆì„ ë•ŒëŠ” í‘¸ì‹œ ì•Œë¦¼ ë¯¸ë°œì†¡
```

---

## 5. ë°ì´í„° ëª¨ë¸ (Supabase)

### 5.1 chat_rooms í…Œì´ë¸”

```sql
CREATE TABLE chat_rooms (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  match_id UUID NOT NULL REFERENCES matches(id),
  user1_id UUID NOT NULL REFERENCES auth.users(id),
  user2_id UUID NOT NULL REFERENCES auth.users(id),
  created_at TIMESTAMPTZ NOT NULL DEFAULT now(),
  last_message_at TIMESTAMPTZ,
  last_message_preview TEXT,
  is_active BOOLEAN NOT NULL DEFAULT true,

  UNIQUE(match_id)
);

-- RLS: ë³¸ì¸ì´ ì°¸ì—¬í•œ ì±„íŒ…ë°©ë§Œ ì¡°íšŒ ê°€ëŠ¥
ALTER TABLE chat_rooms ENABLE ROW LEVEL SECURITY;
CREATE POLICY "Users can view own chat rooms" ON chat_rooms
  FOR SELECT USING (auth.uid() = user1_id OR auth.uid() = user2_id);
```

### 5.2 chat_messages í…Œì´ë¸”

```sql
CREATE TABLE chat_messages (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  room_id UUID NOT NULL REFERENCES chat_rooms(id),
  sender_id UUID NOT NULL REFERENCES auth.users(id),
  message_type TEXT NOT NULL CHECK (message_type IN ('text', 'image', 'system')),
  content TEXT, -- í…ìŠ¤íŠ¸ ë©”ì‹œì§€ ë‚´ìš© ë˜ëŠ” ì‹œìŠ¤í…œ ë©”ì‹œì§€
  image_url TEXT, -- ì´ë¯¸ì§€ URL (message_type = 'image'ì¸ ê²½ìš°)
  created_at TIMESTAMPTZ NOT NULL DEFAULT now(),
  read_at TIMESTAMPTZ, -- ìˆ˜ì‹ ìê°€ ì½ì€ ì‹œê°„
  deleted_at TIMESTAMPTZ, -- soft delete

  -- ì‹œìŠ¤í…œ ë©”ì‹œì§€ ë©”íƒ€ë°ì´í„°
  system_type TEXT -- 'match_created', 'icebreaker', 'unmatched', 'blocked' ë“±
);

-- RLS: ë³¸ì¸ì´ ì°¸ì—¬í•œ ì±„íŒ…ë°©ì˜ ë©”ì‹œì§€ë§Œ ì¡°íšŒ ê°€ëŠ¥
ALTER TABLE chat_messages ENABLE ROW LEVEL SECURITY;
CREATE POLICY "Users can view messages in own rooms" ON chat_messages
  FOR SELECT USING (
    room_id IN (
      SELECT id FROM chat_rooms
      WHERE user1_id = auth.uid() OR user2_id = auth.uid()
    )
  );
CREATE POLICY "Users can insert messages in own rooms" ON chat_messages
  FOR INSERT WITH CHECK (
    sender_id = auth.uid() AND
    room_id IN (
      SELECT id FROM chat_rooms
      WHERE (user1_id = auth.uid() OR user2_id = auth.uid()) AND is_active = true
    )
  );
```

### 5.3 Supabase Realtime êµ¬ë…

```
-- ì±„íŒ… ë©”ì‹œì§€ ì‹¤ì‹œê°„ êµ¬ë…
supabase
  .from('chat_messages')
  .stream(primaryKey: ['id'])
  .eq('room_id', roomId)
  .order('created_at')
  .listen((data) => ...);

-- ì±„íŒ…ë°© ëª©ë¡ ë³€ê²½ ì‹¤ì‹œê°„ êµ¬ë… (last_message ì—…ë°ì´íŠ¸)
supabase
  .from('chat_rooms')
  .stream(primaryKey: ['id'])
  .listen((data) => ...);
```

---

## 6. ê¸°ìˆ  êµ¬í˜„ ë…¸íŠ¸

### 6.1 Flutter íŒŒì¼ êµ¬ì¡° (feature-first)

```
lib/features/chat/
â”œâ”€â”€ data/
â”‚   â”œâ”€â”€ datasources/
â”‚   â”‚   â””â”€â”€ chat_remote_datasource.dart    # Supabase ì¿¼ë¦¬ + Realtime
â”‚   â”œâ”€â”€ models/
â”‚   â”‚   â”œâ”€â”€ chat_room_model.dart           # DTO
â”‚   â”‚   â””â”€â”€ chat_message_model.dart        # DTO
â”‚   â””â”€â”€ repositories/
â”‚       â””â”€â”€ chat_repository_impl.dart      # Repository êµ¬í˜„ì²´
â”œâ”€â”€ domain/
â”‚   â”œâ”€â”€ entities/
â”‚   â”‚   â”œâ”€â”€ chat_room.dart                 # ì±„íŒ…ë°© ì—”í‹°í‹°
â”‚   â”‚   â””â”€â”€ chat_message.dart              # ë©”ì‹œì§€ ì—”í‹°í‹°
â”‚   â”œâ”€â”€ repositories/
â”‚   â”‚   â””â”€â”€ chat_repository.dart           # Repository ì¸í„°í˜ì´ìŠ¤
â”‚   â””â”€â”€ usecases/
â”‚       â”œâ”€â”€ send_message.dart
â”‚       â”œâ”€â”€ get_chat_rooms.dart
â”‚       â”œâ”€â”€ get_messages.dart
â”‚       â”œâ”€â”€ mark_as_read.dart
â”‚       â””â”€â”€ delete_message.dart
â””â”€â”€ presentation/
    â”œâ”€â”€ pages/
    â”‚   â”œâ”€â”€ chat_list_page.dart            # ì±„íŒ… ëª©ë¡
    â”‚   â””â”€â”€ chat_room_page.dart            # ì±„íŒ…ë°© (ë©”ì‹œì§€ ë·°)
    â”œâ”€â”€ providers/
    â”‚   â”œâ”€â”€ chat_list_provider.dart
    â”‚   â””â”€â”€ chat_room_provider.dart
    â””â”€â”€ widgets/
        â”œâ”€â”€ chat_bubble.dart               # ë©”ì‹œì§€ ë²„ë¸”
        â”œâ”€â”€ chat_input.dart                # ì…ë ¥ì°½
        â”œâ”€â”€ chat_room_tile.dart            # ëª©ë¡ ì•„ì´í…œ
        â”œâ”€â”€ system_message_widget.dart     # ì‹œìŠ¤í…œ ë©”ì‹œì§€
        â””â”€â”€ image_preview.dart             # ì´ë¯¸ì§€ í”„ë¦¬ë·°
```

### 6.2 ê¸°ì¡´ ì½”ë“œì™€ì˜ ì—°ê²°ì 

- **ë¼ìš°íŒ…**: `RoutePaths.chat` ('/chat'), `RoutePaths.chatRoom` ('/chat/:roomId') ì´ë¯¸ ì •ì˜ë¨
- **í…Œì´ë¸”**: `SupabaseTables.chatRooms`, `SupabaseTables.chatMessages` ì´ë¯¸ ì •ì˜ë¨
- **ìŠ¤í† ë¦¬ì§€**: `SupabaseBuckets.chatImages` ì´ë¯¸ ì •ì˜ë¨
- **ì œí•œê°’**: `AppLimits.maxMessageLength` (1000), `AppLimits.maxChatImageSizeMb` (10), `AppLimits.chatPageSize` (50) ì´ë¯¸ ì •ì˜ë¨
- **ë¹„ìš©**: `AppLimits.icebreakerCost` (100 í¬ì¸íŠ¸) ì´ë¯¸ ì •ì˜ë¨
- **ë§¤ì¹­ ì—”í‹°í‹°**: `Match.partnerId()`, `Match.isActive`, `Match.unmatchedAt` í™œìš© ê°€ëŠ¥

### 6.3 Supabase Realtime ì‚¬ìš© ì „ëµ

- **ë©”ì‹œì§€ ìŠ¤íŠ¸ë¦¼**: `chat_messages` í…Œì´ë¸”ì˜ INSERTë¥¼ êµ¬ë… (Realtime)
- **ì½ìŒ í™•ì¸**: `chat_messages` í…Œì´ë¸”ì˜ UPDATE(read_at) êµ¬ë…
- **ì±„íŒ… ëª©ë¡ ê°±ì‹ **: `chat_rooms` í…Œì´ë¸”ì˜ UPDATE(last_message_at) êµ¬ë…
- **ì—°ê²° ê´€ë¦¬**: ì•± ë¼ì´í”„ì‚¬ì´í´ì— ë”°ë¼ êµ¬ë… ì‹œì‘/ì¤‘ì§€
- **ì˜¤í”„ë¼ì¸ ì§€ì›**: MVPì—ì„œëŠ” ë¯¸ì§€ì›. ë„¤íŠ¸ì›Œí¬ ë³µêµ¬ ì‹œ ìë™ ì¬ì—°ê²°ë§Œ êµ¬í˜„

---

## 7. UI/UX ê°€ì´ë“œë¼ì¸

### 7.1 ì±„íŒ… ëª©ë¡ í™”ë©´

- í† ìŠ¤ ìŠ¤íƒ€ì¼ ë¯¸ë‹ˆë©€ ë¦¬ìŠ¤íŠ¸
- ê° í–‰: í”„ë¡œí•„ ì‚¬ì§„(ì›í˜• 48px) + ì´ë¦„ + ë§ˆì§€ë§‰ ë©”ì‹œì§€(1ì¤„, ë§ì¤„ì„) + ì‹œê°„ + ì•ˆì½ì€ ë°°ì§€
- ì‹œê°„ í‘œì‹œ: ì˜¤ëŠ˜ì´ë©´ "ì˜¤í›„ 3:42", ì–´ì œë©´ "ì–´ì œ", ê·¸ ì™¸ "2/24"
- ìƒˆ ë§¤ì¹­ ì±„íŒ…ë°©: celebrating ë§ˆìŠ¤ì½”íŠ¸ + "ìƒˆë¡œìš´ ì¸ì—°ì´ì—ìš”!" ì‹œìŠ¤í…œ ë©”ì‹œì§€ í”„ë¦¬ë·°
- ê¶í•© í¼ì„¼íŠ¸ ë±ƒì§€: ì±„íŒ…ë°© íƒ€ì¼ì— ì‘ê²Œ í‘œì‹œ (ë””ìì¸ ì°¨ë³„í™”)

### 7.2 ì±„íŒ…ë°© í™”ë©´

- **í—¤ë”**: ìƒëŒ€ë°© ì´ë¦„ + í”„ë¡œí•„ ì‚¬ì§„ + ê¶í•© ì ìˆ˜ ë°°ì§€(ê³¨ë“œ ë³„) + ë©”ë‰´(â‹®)
- **ë©”ì‹œì§€ ë²„ë¸”**:
  - ë‚´ ë©”ì‹œì§€: ìš°ì¸¡, Primary Violet (#7B61FF) ë°°ê²½, í° í…ìŠ¤íŠ¸
  - ìƒëŒ€ ë©”ì‹œì§€: ì¢Œì¸¡, ì—°íšŒìƒ‰ ë°°ê²½, ê²€ì • í…ìŠ¤íŠ¸
  - ì‹œìŠ¤í…œ ë©”ì‹œì§€: ê°€ìš´ë° ì •ë ¬, ì–‡ì€ ë³´ë”, ì•„ì´ì½˜ í¬í•¨
- **ì…ë ¥ì°½**: í•˜ë‹¨ ê³ ì •, í…ìŠ¤íŠ¸ ì…ë ¥ + ì´ë¯¸ì§€ ë²„íŠ¼ + ì „ì†¡ ë²„íŠ¼
- **ìŠ¤í¬ë¡¤**: ìµœì‹  ë©”ì‹œì§€ê°€ í•˜ë‹¨, ìœ„ë¡œ ìŠ¤í¬ë¡¤ ì‹œ ì´ì „ ë©”ì‹œì§€ ë¡œë“œ
- **ë‚ ì§œ êµ¬ë¶„ì„ **: ë‚ ì§œê°€ ë°”ë€Œë©´ "2026ë…„ 2ì›” 24ì¼ ì›”ìš”ì¼" í‘œì‹œ

### 7.3 ì‹œìŠ¤í…œ ë©”ì‹œì§€ ë””ìì¸

- ë§¤ì¹­ ì¶•í•˜: celebrating ë§ˆìŠ¤ì½”íŠ¸ + "ìš´ëª…ì ì¸ ë§Œë‚¨ì´ì—ìš”! ë‘ ë¶„ì˜ ê¶í•©ì´ 87%ì…ë‹ˆë‹¤"
- ì•„ì´ìŠ¤ë¸Œë ˆì´ì»¤: thinking ë§ˆìŠ¤ì½”íŠ¸ + ì‚¬ì£¼ ê¸°ë°˜ ëŒ€í™” ì£¼ì œ
- ì–¸ë§¤ì¹­/ì°¨ë‹¨: ì‹¬í”Œ í…ìŠ¤íŠ¸, ë®¤íŠ¸ ì»¬ëŸ¬

---

## 8. ê°œë°œ ìš°ì„ ìˆœìœ„ ë° ì˜ˆìƒ ì¼ì •

### Phase 7-A: ì±„íŒ… ì½”ì–´ (1ì£¼)
1. ë„ë©”ì¸ ì—”í‹°í‹° & Repository ì¸í„°í˜ì´ìŠ¤
2. Supabase í…Œì´ë¸” ìƒì„± (chat_rooms, chat_messages) + RLS
3. ì±„íŒ… ëª©ë¡ í˜ì´ì§€ + ì‹¤ì‹œê°„ êµ¬ë…
4. ì±„íŒ…ë°© í˜ì´ì§€ + í…ìŠ¤íŠ¸ ì „ì†¡/ìˆ˜ì‹ 

### Phase 7-B: ì±„íŒ… í•„ìˆ˜ ê¸°ëŠ¥ (1ì£¼)
5. ì´ë¯¸ì§€ ì „ì†¡ (Supabase Storage)
6. ì½ìŒ í™•ì¸ (read_at)
7. ë©”ì‹œì§€ ì‚­ì œ (soft delete)
8. ì‹œìŠ¤í…œ ë©”ì‹œì§€ (ë§¤ì¹­ ì¶•í•˜, ì•„ì´ìŠ¤ë¸Œë ˆì´ì»¤)

### Phase 7-C: ì•ˆì „ & ì•Œë¦¼ (0.5ì£¼)
9. ì°¨ë‹¨/ì‹ ê³  ê¸°ëŠ¥
10. ì–¸ë§¤ì¹­
11. í‘¸ì‹œ ì•Œë¦¼ (FCM/APNs ì—°ë™)

**ì´ ì˜ˆìƒ: 2.5ì£¼**

---

## 9. ë¦¬ì„œì¹˜ ì¶œì²˜

- [Sendbird UIKit for Flutter Overview](https://sendbird.com/docs/chat/uikit/v3/flutter/overview)
- [Sendbird In-app Chat Features](https://sendbird.com/products/chat-messaging/features)
- [Sendbird Read Receipts](https://sendbird.com/docs/chat/uikit/v3/ios-uikit/features/read-receipt)
- [Sendbird Typing Indicator](https://sendbird.com/docs/chat/uikit/v3/ios-uikit/features/typing-indicator)
- [ì˜¨ë¼ì¸ ë°ì´íŒ… - ë‚˜ë¬´ìœ„í‚¤](https://namu.wiki/w/%EC%98%A8%EB%9D%BC%EC%9D%B8%20%EB%8D%B0%EC%9D%B4%ED%8C%85)
- [ì •ì˜¤ì˜ë°ì´íŠ¸ - Google Play](https://play.google.com/store/apps/details?id=com.NoonDate&hl=en_US)
- [ê¸€ë¨ - ë‚˜ë¬´ìœ„í‚¤](https://namu.wiki/w/%EA%B8%80%EB%9E%A8(%EC%95%A0%ED%94%8C%EB%A6%AC%EC%BC%80%EC%9D%B4%EC%85%98))
- [ìœ„í”¼ ì‹œì¥ ë¶„ì„ - Sensor Tower](https://sensortower.com/ko/blog/WIPPY-not-only-ranked-as-the-top-grossing-dating-app-but-also-emerged-as-leading-growth-oriented-player)
- [Bumble Expired Matches](https://support.bumble.com/hc/en-us/articles/28424238819357-Expired-matches)
- [Hinge Your Turn Limits](https://hinge.co/newsroom/your-turn-limits)
- [Supabase Flutter Chat Tutorial](https://supabase.com/blog/flutter-tutorial-building-a-chat-app)
- [Dating App MVP Features 2025](https://www.datingpro.com/blog/7-practical-ai-features-for-your-dating-app-mvp-in-2025-2026/)
- [Supabase Flutter Chat (Community)](https://github.com/supabase-community/flutter-chat)
